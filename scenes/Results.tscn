[gd_scene load_steps=5 format=3]

[ext_resource type="Theme" path="res://themes/neobrutalist.theme.tres" id="2"]

[sub_resource type="GDScript" id="1"]
script/source_code = "extends Control\n\n@onready var title_label: Label = $VBoxContainer/Title\n@onready var score_label: Label = $VBoxContainer/ScoreLabel\n@onready var moves_label: Label = $VBoxContainer/MovesLabel\n@onready var highest_label: Label = $VBoxContainer/HighestTileLabel\n\nfunc _ready() -> void:\n\tvar button := $VBoxContainer/TryAgainButton\n\tif not button.pressed.is_connected(_on_try_again_pressed):\n\t\tbutton.pressed.connect(_on_try_again_pressed)\n\t_populate_summary()\n\nfunc _populate_summary() -> void:\n\tvar game := get_node_or_null(\"/root/Game\")\n\tif game == null:\n\t\treturn\n\tvar result: Dictionary = {}\n\tif game.has_method(\"get_last_result\"):\n\t\tresult = game.get_last_result()\n\tvar score := int(result.get(\"score\", 0))\n\tvar moves := int(result.get(\"moves\", 0))\n\tvar highest_tile := int(result.get(\"highest_tile\", 0))\n\tscore_label.text = \"Score: %d\" % score\n\tmoves_label.text = \"Moves: %d\" % moves\n\thighest_label.text = \"Highest Tile: %d\" % highest_tile\n\tvar reason := str(result.get(\"reason\", \"\"))\n\tif reason == \"win\":\n\t\ttitle_label.text = \"Victory!\"\n\telif reason == \"no_moves\":\n\t\ttitle_label.text = \"No Moves Left\"\n\telse:\n\t\ttitle_label.text = \"Run Complete\"\n\nfunc _on_try_again_pressed() -> void:\n\tget_tree().change_scene_to_file(\"res://scenes/Menu.tscn\")\n"

[node name="Results" type="Control"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("1")
theme = ExtResource("2")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1
theme_override_constants/separation = 16

[node name="Title" type="Label" parent="VBoxContainer"]
text = "Run Complete"
horizontal_alignment = 1

[node name="ScoreLabel" type="Label" parent="VBoxContainer"]
text = "Score: 0"
horizontal_alignment = 1

[node name="MovesLabel" type="Label" parent="VBoxContainer"]
text = "Moves: 0"
horizontal_alignment = 1

[node name="HighestTileLabel" type="Label" parent="VBoxContainer"]
text = "Highest Tile: 0"
horizontal_alignment = 1

[node name="TryAgainButton" type="Button" parent="VBoxContainer"]
text = "Try Again"
size_flags_horizontal = 4
